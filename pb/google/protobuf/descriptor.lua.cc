// Generated by the lua-protobuf compiler
// You shouldn't edit this file manually
// source proto file: google/protobuf/descriptor.proto
#include "google/protobuf/descriptor.lua.h"
#include <lua/lua.hpp>
#include <string>
#include <sstream>
#include <set>
#include <boost/cast.hpp>
extern int udataNum;
extern std::set<::google::protobuf::Message*> u_datas;


namespace { bool success = AddOpenFunction(lua_protobuf_google_protobuf_open); }
int lua_protobuf_google_protobuf_open(lua_State *L)
{
    const char *table = luaL_findtable(L, LUA_GLOBALSINDEX, "proto-buf.google.protobuf", 1);
    if (table) {
        return luaL_error(L, "could not create parent Lua tables");
    }
    if (!lua_istable(L, -1)) {
        lua_newtable(L);
        lua_setfield(L, -2, "google.protobuf");
    }
    lua_pop(L, 1);
    luaL_Reg funcs [] = { { NULL, NULL } };
    luaL_register(L, "proto-buf.google.protobuf", funcs);
    lua_protobuf_google_protobuf_FileDescriptorSet_open(L);
    lua_protobuf_google_protobuf_FileDescriptorProto_open(L);
    lua_protobuf_google_protobuf_DescriptorProto_open(L);
    lua_protobuf_google_protobuf_FieldDescriptorProto_open(L);
    lua_protobuf_google_protobuf_EnumDescriptorProto_open(L);
    lua_protobuf_google_protobuf_EnumValueDescriptorProto_open(L);
    lua_protobuf_google_protobuf_ServiceDescriptorProto_open(L);
    lua_protobuf_google_protobuf_MethodDescriptorProto_open(L);
    lua_protobuf_google_protobuf_FileOptions_open(L);
    lua_protobuf_google_protobuf_MessageOptions_open(L);
    lua_protobuf_google_protobuf_FieldOptions_open(L);
    lua_protobuf_google_protobuf_EnumOptions_open(L);
    lua_protobuf_google_protobuf_EnumValueOptions_open(L);
    lua_protobuf_google_protobuf_ServiceOptions_open(L);
    lua_protobuf_google_protobuf_MethodOptions_open(L);
    lua_protobuf_google_protobuf_UninterpretedOption_open(L);
    lua_protobuf_google_protobuf_SourceCodeInfo_open(L);
    return 1;
}


static const struct luaL_Reg FileDescriptorSet_functions [] = {
    {"new", lua_protobuf_google_protobuf_FileDescriptorSet_new},
    {NULL, NULL}
};

static const struct luaL_Reg FileDescriptorSet_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_FileDescriptorSet_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_FileDescriptorSet_parsefromstring},
    {"data", lua_protobuf_google_protobuf_FileDescriptorSet_data},
    {"assign", lua_protobuf_google_protobuf_FileDescriptorSet_assign},
    {"clear", lua_protobuf_google_protobuf_FileDescriptorSet_clear},
    {"__gc", lua_protobuf_google_protobuf_FileDescriptorSet_gc},
    {"size", lua_protobuf_google_protobuf_FileDescriptorSet_size},
    {"clear_file", lua_protobuf_google_protobuf_FileDescriptorSet_clear_file},
    {"get_file", lua_protobuf_google_protobuf_FileDescriptorSet_get_file},
    {"set_file", lua_protobuf_google_protobuf_FileDescriptorSet_set_file},
    {"rawget_file", lua_protobuf_google_protobuf_FileDescriptorSet_rawget_file},
    {"size_file", lua_protobuf_google_protobuf_FileDescriptorSet_size_file},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_FileDescriptorSet_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.FileDescriptorSet");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, FileDescriptorSet_methods);
    luaL_register(L, "proto-buf.google.protobuf.FileDescriptorSet", FileDescriptorSet_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_FileDescriptorSet_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileDescriptorSet");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_FileDescriptorSet_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::FileDescriptorSet();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileDescriptorSet");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* src = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorSet_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorSet_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorSet_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_FileDescriptorSet_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_FileDescriptorSet_clear_file(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    m->clear_file();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_get_file(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    size_t index = m->file_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::FileDescriptorProto>* msgVec = m->mutable_file();
        ::google::protobuf::FileDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_FileDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_set_file(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::FileDescriptorProto* msg = m->add_file();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_FileDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_rawget_file(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->file_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::FileDescriptorProto* msg = m->mutable_file(index-1);
    lua_protobuf_google_protobuf_FileDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorSet_size_file(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorSet");
    ::google::protobuf::FileDescriptorSet* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorSet*>(mud->msg);
    int size = m->file_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg FileDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_FileDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg FileDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_FileDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_FileDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_FileDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_FileDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_FileDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_FileDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_FileDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_FileDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_FileDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_FileDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_FileDescriptorProto_has_name},
    {"clear_package", lua_protobuf_google_protobuf_FileDescriptorProto_clear_package},
    {"get_package", lua_protobuf_google_protobuf_FileDescriptorProto_get_package},
    {"set_package", lua_protobuf_google_protobuf_FileDescriptorProto_set_package},
    {"has_package", lua_protobuf_google_protobuf_FileDescriptorProto_has_package},
    {"clear_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_clear_dependency},
    {"get_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_get_dependency},
    {"set_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_set_dependency},
    {"size_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_size_dependency},
    {"clear_public_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_clear_public_dependency},
    {"get_public_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_get_public_dependency},
    {"set_public_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_set_public_dependency},
    {"size_public_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_size_public_dependency},
    {"clear_weak_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_clear_weak_dependency},
    {"get_weak_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_get_weak_dependency},
    {"set_weak_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_set_weak_dependency},
    {"size_weak_dependency", lua_protobuf_google_protobuf_FileDescriptorProto_size_weak_dependency},
    {"clear_message_type", lua_protobuf_google_protobuf_FileDescriptorProto_clear_message_type},
    {"get_message_type", lua_protobuf_google_protobuf_FileDescriptorProto_get_message_type},
    {"set_message_type", lua_protobuf_google_protobuf_FileDescriptorProto_set_message_type},
    {"rawget_message_type", lua_protobuf_google_protobuf_FileDescriptorProto_rawget_message_type},
    {"size_message_type", lua_protobuf_google_protobuf_FileDescriptorProto_size_message_type},
    {"clear_enum_type", lua_protobuf_google_protobuf_FileDescriptorProto_clear_enum_type},
    {"get_enum_type", lua_protobuf_google_protobuf_FileDescriptorProto_get_enum_type},
    {"set_enum_type", lua_protobuf_google_protobuf_FileDescriptorProto_set_enum_type},
    {"rawget_enum_type", lua_protobuf_google_protobuf_FileDescriptorProto_rawget_enum_type},
    {"size_enum_type", lua_protobuf_google_protobuf_FileDescriptorProto_size_enum_type},
    {"clear_service", lua_protobuf_google_protobuf_FileDescriptorProto_clear_service},
    {"get_service", lua_protobuf_google_protobuf_FileDescriptorProto_get_service},
    {"set_service", lua_protobuf_google_protobuf_FileDescriptorProto_set_service},
    {"rawget_service", lua_protobuf_google_protobuf_FileDescriptorProto_rawget_service},
    {"size_service", lua_protobuf_google_protobuf_FileDescriptorProto_size_service},
    {"clear_extension", lua_protobuf_google_protobuf_FileDescriptorProto_clear_extension},
    {"get_extension", lua_protobuf_google_protobuf_FileDescriptorProto_get_extension},
    {"set_extension", lua_protobuf_google_protobuf_FileDescriptorProto_set_extension},
    {"rawget_extension", lua_protobuf_google_protobuf_FileDescriptorProto_rawget_extension},
    {"size_extension", lua_protobuf_google_protobuf_FileDescriptorProto_size_extension},
    {"clear_options", lua_protobuf_google_protobuf_FileDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_FileDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_FileDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_FileDescriptorProto_has_options},
    {"clear_source_code_info", lua_protobuf_google_protobuf_FileDescriptorProto_clear_source_code_info},
    {"get_source_code_info", lua_protobuf_google_protobuf_FileDescriptorProto_get_source_code_info},
    {"set_source_code_info", lua_protobuf_google_protobuf_FileDescriptorProto_set_source_code_info},
    {"has_source_code_info", lua_protobuf_google_protobuf_FileDescriptorProto_has_source_code_info},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_FileDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.FileDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, FileDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.FileDescriptorProto", FileDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_FileDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_FileDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::FileDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_FileDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_FileDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_FileDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_package();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    const std::string& s = m->package();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_package(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_has_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_package());
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_dependency();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->dependency_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        const std::string& s = m->dependency(index - 1);
        lua_pushlstring(L, s.c_str(), s.size());
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, -1, LUA_TTABLE);
    lua_pushnil(L);
    while (lua_next(L, -2)) {
        luaL_checktype(L, -1, LUA_TSTRING);
        size_t len;
        const char *s = lua_tolstring(L, -1, &len);
        m->add_dependency(s, len);
        lua_pop(L, 1);
    }
    lua_pop(L, 1);
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->dependency_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_public_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_public_dependency();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_public_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->public_dependency_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        lua_pushnumber(L, m->public_dependency(index-1));
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_public_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, -1, LUA_TTABLE);
    lua_pushnil(L);
    while (lua_next(L, -2)) {
        luaL_checktype(L, -1, LUA_TNUMBER);
        lua_Number v = luaL_checknumber(L, -1);
        m->add_public_dependency(v);
        lua_pop(L, 1);
    }
    lua_pop(L, 1);
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_public_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->public_dependency_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_weak_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_weak_dependency();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_weak_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->weak_dependency_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        lua_pushnumber(L, m->weak_dependency(index-1));
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_weak_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, -1, LUA_TTABLE);
    lua_pushnil(L);
    while (lua_next(L, -2)) {
        luaL_checktype(L, -1, LUA_TNUMBER);
        lua_Number v = luaL_checknumber(L, -1);
        m->add_weak_dependency(v);
        lua_pop(L, 1);
    }
    lua_pop(L, 1);
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_weak_dependency(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->weak_dependency_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_message_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_message_type();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_message_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->message_type_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::DescriptorProto>* msgVec = m->mutable_message_type();
        ::google::protobuf::DescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_DescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_message_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::DescriptorProto* msg = m->add_message_type();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_DescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_rawget_message_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->message_type_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::DescriptorProto* msg = m->mutable_message_type(index-1);
    lua_protobuf_google_protobuf_DescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_message_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->message_type_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_enum_type();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->enum_type_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::EnumDescriptorProto>* msgVec = m->mutable_enum_type();
        ::google::protobuf::EnumDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::EnumDescriptorProto* msg = m->add_enum_type();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_rawget_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->enum_type_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::EnumDescriptorProto* msg = m->mutable_enum_type(index-1);
    lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->enum_type_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_service(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_service();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_service(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->service_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::ServiceDescriptorProto>* msgVec = m->mutable_service();
        ::google::protobuf::ServiceDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_ServiceDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_service(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::ServiceDescriptorProto* msg = m->add_service();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_ServiceDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_rawget_service(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->service_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::ServiceDescriptorProto* msg = m->mutable_service(index-1);
    lua_protobuf_google_protobuf_ServiceDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_service(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->service_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_extension();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    size_t index = m->extension_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::FieldDescriptorProto>* msgVec = m->mutable_extension();
        ::google::protobuf::FieldDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::FieldDescriptorProto* msg = m->add_extension();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_rawget_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->extension_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::FieldDescriptorProto* msg = m->mutable_extension(index-1);
    lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_size_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    int size = m->extension_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    ::google::protobuf::FileOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_FileOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    ::google::protobuf::FileOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_FileOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_clear_source_code_info(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    m->clear_source_code_info();
    return 0;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_get_source_code_info(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    ::google::protobuf::SourceCodeInfo* msg = m->mutable_source_code_info();
    m->release_source_code_info();
    lua_protobuf_google_protobuf_SourceCodeInfo_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_set_source_code_info(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    ::google::protobuf::SourceCodeInfo* msg = m->mutable_source_code_info();
    lua_protobuf_google_protobuf_SourceCodeInfo_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileDescriptorProto_has_source_code_info(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileDescriptorProto");
    ::google::protobuf::FileDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FileDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_source_code_info());
    return 1;
}

static const struct luaL_Reg DescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_DescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg DescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_DescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_DescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_DescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_DescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_DescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_DescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_DescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_DescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_DescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_DescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_DescriptorProto_has_name},
    {"clear_field", lua_protobuf_google_protobuf_DescriptorProto_clear_field},
    {"get_field", lua_protobuf_google_protobuf_DescriptorProto_get_field},
    {"set_field", lua_protobuf_google_protobuf_DescriptorProto_set_field},
    {"rawget_field", lua_protobuf_google_protobuf_DescriptorProto_rawget_field},
    {"size_field", lua_protobuf_google_protobuf_DescriptorProto_size_field},
    {"clear_extension", lua_protobuf_google_protobuf_DescriptorProto_clear_extension},
    {"get_extension", lua_protobuf_google_protobuf_DescriptorProto_get_extension},
    {"set_extension", lua_protobuf_google_protobuf_DescriptorProto_set_extension},
    {"rawget_extension", lua_protobuf_google_protobuf_DescriptorProto_rawget_extension},
    {"size_extension", lua_protobuf_google_protobuf_DescriptorProto_size_extension},
    {"clear_nested_type", lua_protobuf_google_protobuf_DescriptorProto_clear_nested_type},
    {"get_nested_type", lua_protobuf_google_protobuf_DescriptorProto_get_nested_type},
    {"set_nested_type", lua_protobuf_google_protobuf_DescriptorProto_set_nested_type},
    {"rawget_nested_type", lua_protobuf_google_protobuf_DescriptorProto_rawget_nested_type},
    {"size_nested_type", lua_protobuf_google_protobuf_DescriptorProto_size_nested_type},
    {"clear_enum_type", lua_protobuf_google_protobuf_DescriptorProto_clear_enum_type},
    {"get_enum_type", lua_protobuf_google_protobuf_DescriptorProto_get_enum_type},
    {"set_enum_type", lua_protobuf_google_protobuf_DescriptorProto_set_enum_type},
    {"rawget_enum_type", lua_protobuf_google_protobuf_DescriptorProto_rawget_enum_type},
    {"size_enum_type", lua_protobuf_google_protobuf_DescriptorProto_size_enum_type},
    {"clear_extension_range", lua_protobuf_google_protobuf_DescriptorProto_clear_extension_range},
    {"get_extension_range", lua_protobuf_google_protobuf_DescriptorProto_get_extension_range},
    {"set_extension_range", lua_protobuf_google_protobuf_DescriptorProto_set_extension_range},
    {"rawget_extension_range", lua_protobuf_google_protobuf_DescriptorProto_rawget_extension_range},
    {"size_extension_range", lua_protobuf_google_protobuf_DescriptorProto_size_extension_range},
    {"clear_options", lua_protobuf_google_protobuf_DescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_DescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_DescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_DescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_DescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.DescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, DescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.DescriptorProto", DescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_DescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.DescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_DescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::DescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.DescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_DescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_DescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_DescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_DescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_DescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_field(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_field();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_field(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    size_t index = m->field_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::FieldDescriptorProto>* msgVec = m->mutable_field();
        ::google::protobuf::FieldDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_field(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::FieldDescriptorProto* msg = m->add_field();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_rawget_field(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->field_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::FieldDescriptorProto* msg = m->mutable_field(index-1);
    lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_size_field(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->field_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_extension();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    size_t index = m->extension_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::FieldDescriptorProto>* msgVec = m->mutable_extension();
        ::google::protobuf::FieldDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::FieldDescriptorProto* msg = m->add_extension();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_rawget_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->extension_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::FieldDescriptorProto* msg = m->mutable_extension(index-1);
    lua_protobuf_google_protobuf_FieldDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_size_extension(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->extension_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_nested_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_nested_type();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_nested_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    size_t index = m->nested_type_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::DescriptorProto>* msgVec = m->mutable_nested_type();
        ::google::protobuf::DescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_DescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_nested_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::DescriptorProto* msg = m->add_nested_type();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_DescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_rawget_nested_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->nested_type_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::DescriptorProto* msg = m->mutable_nested_type(index-1);
    lua_protobuf_google_protobuf_DescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_size_nested_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->nested_type_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_enum_type();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    size_t index = m->enum_type_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::EnumDescriptorProto>* msgVec = m->mutable_enum_type();
        ::google::protobuf::EnumDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::EnumDescriptorProto* msg = m->add_enum_type();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_rawget_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->enum_type_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::EnumDescriptorProto* msg = m->mutable_enum_type(index-1);
    lua_protobuf_google_protobuf_EnumDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_size_enum_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->enum_type_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_extension_range(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_extension_range();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_extension_range(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    size_t index = m->extension_range_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::DescriptorProto::ExtensionRange>* msgVec = m->mutable_extension_range();
        ::google::protobuf::DescriptorProto::ExtensionRange* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_DescriptorProto_ExtensionRange_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_extension_range(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::DescriptorProto::ExtensionRange* msg = m->add_extension_range();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_DescriptorProto_ExtensionRange_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_rawget_extension_range(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->extension_range_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::DescriptorProto::ExtensionRange* msg = m->mutable_extension_range(index-1);
    lua_protobuf_google_protobuf_DescriptorProto_ExtensionRange_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_size_extension_range(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    int size = m->extension_range_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_DescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    ::google::protobuf::MessageOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_MessageOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    ::google::protobuf::MessageOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_MessageOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_DescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.DescriptorProto");
    ::google::protobuf::DescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::DescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg FieldDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_FieldDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg FieldDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_FieldDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_FieldDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_FieldDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_FieldDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_FieldDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_FieldDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_FieldDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_FieldDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_FieldDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_FieldDescriptorProto_has_name},
    {"clear_number", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_number},
    {"get_number", lua_protobuf_google_protobuf_FieldDescriptorProto_get_number},
    {"set_number", lua_protobuf_google_protobuf_FieldDescriptorProto_set_number},
    {"has_number", lua_protobuf_google_protobuf_FieldDescriptorProto_has_number},
    {"clear_label", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_label},
    {"get_label", lua_protobuf_google_protobuf_FieldDescriptorProto_get_label},
    {"set_label", lua_protobuf_google_protobuf_FieldDescriptorProto_set_label},
    {"has_label", lua_protobuf_google_protobuf_FieldDescriptorProto_has_label},
    {"clear_type", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_type},
    {"get_type", lua_protobuf_google_protobuf_FieldDescriptorProto_get_type},
    {"set_type", lua_protobuf_google_protobuf_FieldDescriptorProto_set_type},
    {"has_type", lua_protobuf_google_protobuf_FieldDescriptorProto_has_type},
    {"clear_type_name", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_type_name},
    {"get_type_name", lua_protobuf_google_protobuf_FieldDescriptorProto_get_type_name},
    {"set_type_name", lua_protobuf_google_protobuf_FieldDescriptorProto_set_type_name},
    {"has_type_name", lua_protobuf_google_protobuf_FieldDescriptorProto_has_type_name},
    {"clear_extendee", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_extendee},
    {"get_extendee", lua_protobuf_google_protobuf_FieldDescriptorProto_get_extendee},
    {"set_extendee", lua_protobuf_google_protobuf_FieldDescriptorProto_set_extendee},
    {"has_extendee", lua_protobuf_google_protobuf_FieldDescriptorProto_has_extendee},
    {"clear_default_value", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_default_value},
    {"get_default_value", lua_protobuf_google_protobuf_FieldDescriptorProto_get_default_value},
    {"set_default_value", lua_protobuf_google_protobuf_FieldDescriptorProto_set_default_value},
    {"has_default_value", lua_protobuf_google_protobuf_FieldDescriptorProto_has_default_value},
    {"clear_options", lua_protobuf_google_protobuf_FieldDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_FieldDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_FieldDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_FieldDescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_FieldDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.FieldDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, FieldDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.FieldDescriptorProto", FieldDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_FieldDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FieldDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::FieldDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FieldDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_number();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->number());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number i = luaL_checknumber(L, 2);
    m->set_number(i);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_number());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_label(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_label();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_label(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->label());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_label(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Integer i = lua_tointeger(L, 2);
    m->set_label((::google::protobuf::FieldDescriptorProto::Label)i);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_label(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_label());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_type();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->type());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Integer i = lua_tointeger(L, 2);
    m->set_type((::google::protobuf::FieldDescriptorProto::Type)i);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_type());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_type_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_type_name();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_type_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    const std::string& s = m->type_name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_type_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_type_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_type_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_type_name());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_extendee(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_extendee();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_extendee(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    const std::string& s = m->extendee();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_extendee(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_extendee(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_extendee(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_extendee());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_default_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_default_value();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_default_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    const std::string& s = m->default_value();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_default_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_default_value(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_default_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_default_value());
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    ::google::protobuf::FieldOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_FieldOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    ::google::protobuf::FieldOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_FieldOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FieldDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldDescriptorProto");
    ::google::protobuf::FieldDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::FieldDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg EnumDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_EnumDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg EnumDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_EnumDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_EnumDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_EnumDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_EnumDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_EnumDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_EnumDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_EnumDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_EnumDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_EnumDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_EnumDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_EnumDescriptorProto_has_name},
    {"clear_value", lua_protobuf_google_protobuf_EnumDescriptorProto_clear_value},
    {"get_value", lua_protobuf_google_protobuf_EnumDescriptorProto_get_value},
    {"set_value", lua_protobuf_google_protobuf_EnumDescriptorProto_set_value},
    {"rawget_value", lua_protobuf_google_protobuf_EnumDescriptorProto_rawget_value},
    {"size_value", lua_protobuf_google_protobuf_EnumDescriptorProto_size_value},
    {"clear_options", lua_protobuf_google_protobuf_EnumDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_EnumDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_EnumDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_EnumDescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_EnumDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.EnumDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, EnumDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.EnumDescriptorProto", EnumDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_EnumDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::EnumDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_EnumDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_clear_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    m->clear_value();
    return 0;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_get_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    size_t index = m->value_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::EnumValueDescriptorProto>* msgVec = m->mutable_value();
        ::google::protobuf::EnumValueDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_EnumValueDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_set_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::EnumValueDescriptorProto* msg = m->add_value();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_EnumValueDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_rawget_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->value_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::EnumValueDescriptorProto* msg = m->mutable_value(index-1);
    lua_protobuf_google_protobuf_EnumValueDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_size_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    int size = m->value_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    ::google::protobuf::EnumOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_EnumOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    ::google::protobuf::EnumOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_EnumOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumDescriptorProto");
    ::google::protobuf::EnumDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg EnumValueDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_EnumValueDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg EnumValueDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_EnumValueDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_EnumValueDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_EnumValueDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_EnumValueDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_EnumValueDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_EnumValueDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_name},
    {"clear_number", lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_number},
    {"get_number", lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_number},
    {"set_number", lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_number},
    {"has_number", lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_number},
    {"clear_options", lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, EnumValueDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.EnumValueDescriptorProto", EnumValueDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_EnumValueDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::EnumValueDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    m->clear_number();
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->number());
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number i = luaL_checknumber(L, 2);
    m->set_number(i);
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_number(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_number());
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    ::google::protobuf::EnumValueOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_EnumValueOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    ::google::protobuf::EnumValueOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_EnumValueOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueDescriptorProto");
    ::google::protobuf::EnumValueDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::EnumValueDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg ServiceDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_ServiceDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg ServiceDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_ServiceDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_ServiceDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_ServiceDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_ServiceDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_ServiceDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_ServiceDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_ServiceDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_ServiceDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_ServiceDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_ServiceDescriptorProto_has_name},
    {"clear_method", lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_method},
    {"get_method", lua_protobuf_google_protobuf_ServiceDescriptorProto_get_method},
    {"set_method", lua_protobuf_google_protobuf_ServiceDescriptorProto_set_method},
    {"rawget_method", lua_protobuf_google_protobuf_ServiceDescriptorProto_rawget_method},
    {"size_method", lua_protobuf_google_protobuf_ServiceDescriptorProto_size_method},
    {"clear_options", lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_ServiceDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_ServiceDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_ServiceDescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_ServiceDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.ServiceDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, ServiceDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.ServiceDescriptorProto", ServiceDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_ServiceDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.ServiceDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::ServiceDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.ServiceDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_method(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    m->clear_method();
    return 0;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_get_method(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    size_t index = m->method_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::MethodDescriptorProto>* msgVec = m->mutable_method();
        ::google::protobuf::MethodDescriptorProto* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_MethodDescriptorProto_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_set_method(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::MethodDescriptorProto* msg = m->add_method();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_MethodDescriptorProto_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_rawget_method(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->method_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::MethodDescriptorProto* msg = m->mutable_method(index-1);
    lua_protobuf_google_protobuf_MethodDescriptorProto_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_size_method(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    int size = m->method_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    ::google::protobuf::ServiceOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_ServiceOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    ::google::protobuf::ServiceOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_ServiceOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceDescriptorProto");
    ::google::protobuf::ServiceDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::ServiceDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg MethodDescriptorProto_functions [] = {
    {"new", lua_protobuf_google_protobuf_MethodDescriptorProto_new},
    {NULL, NULL}
};

static const struct luaL_Reg MethodDescriptorProto_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_MethodDescriptorProto_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_MethodDescriptorProto_parsefromstring},
    {"data", lua_protobuf_google_protobuf_MethodDescriptorProto_data},
    {"assign", lua_protobuf_google_protobuf_MethodDescriptorProto_assign},
    {"clear", lua_protobuf_google_protobuf_MethodDescriptorProto_clear},
    {"__gc", lua_protobuf_google_protobuf_MethodDescriptorProto_gc},
    {"size", lua_protobuf_google_protobuf_MethodDescriptorProto_size},
    {"clear_name", lua_protobuf_google_protobuf_MethodDescriptorProto_clear_name},
    {"get_name", lua_protobuf_google_protobuf_MethodDescriptorProto_get_name},
    {"set_name", lua_protobuf_google_protobuf_MethodDescriptorProto_set_name},
    {"has_name", lua_protobuf_google_protobuf_MethodDescriptorProto_has_name},
    {"clear_input_type", lua_protobuf_google_protobuf_MethodDescriptorProto_clear_input_type},
    {"get_input_type", lua_protobuf_google_protobuf_MethodDescriptorProto_get_input_type},
    {"set_input_type", lua_protobuf_google_protobuf_MethodDescriptorProto_set_input_type},
    {"has_input_type", lua_protobuf_google_protobuf_MethodDescriptorProto_has_input_type},
    {"clear_output_type", lua_protobuf_google_protobuf_MethodDescriptorProto_clear_output_type},
    {"get_output_type", lua_protobuf_google_protobuf_MethodDescriptorProto_get_output_type},
    {"set_output_type", lua_protobuf_google_protobuf_MethodDescriptorProto_set_output_type},
    {"has_output_type", lua_protobuf_google_protobuf_MethodDescriptorProto_has_output_type},
    {"clear_options", lua_protobuf_google_protobuf_MethodDescriptorProto_clear_options},
    {"get_options", lua_protobuf_google_protobuf_MethodDescriptorProto_get_options},
    {"set_options", lua_protobuf_google_protobuf_MethodDescriptorProto_set_options},
    {"has_options", lua_protobuf_google_protobuf_MethodDescriptorProto_has_options},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_MethodDescriptorProto_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.MethodDescriptorProto");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, MethodDescriptorProto_methods);
    luaL_register(L, "proto-buf.google.protobuf.MethodDescriptorProto", MethodDescriptorProto_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_MethodDescriptorProto_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MethodDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::MethodDescriptorProto();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MethodDescriptorProto");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* src = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_MethodDescriptorProto_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    const std::string& s = m->name();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_name(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_has_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_name());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_clear_input_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    m->clear_input_type();
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_get_input_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    const std::string& s = m->input_type();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_set_input_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_input_type(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_has_input_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_input_type());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_clear_output_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    m->clear_output_type();
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_get_output_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    const std::string& s = m->output_type();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_set_output_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_output_type(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_has_output_type(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_output_type());
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_clear_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    m->clear_options();
    return 0;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_get_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    ::google::protobuf::MethodOptions* msg = m->mutable_options();
    m->release_options();
    lua_protobuf_google_protobuf_MethodOptions_(L, msg);
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_set_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    ::google::protobuf::MethodOptions* msg = m->mutable_options();
    lua_protobuf_google_protobuf_MethodOptions_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_MethodDescriptorProto_has_options(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodDescriptorProto");
    ::google::protobuf::MethodDescriptorProto* m = boost::polymorphic_downcast<::google::protobuf::MethodDescriptorProto*>(mud->msg);
    lua_pushboolean(L, m->has_options());
    return 1;
}

static const struct luaL_Reg FileOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_FileOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg FileOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_FileOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_FileOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_FileOptions_data},
    {"assign", lua_protobuf_google_protobuf_FileOptions_assign},
    {"option", lua_protobuf_google_protobuf_FileOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_FileOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_FileOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_FileOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_FileOptions_gc},
    {"size", lua_protobuf_google_protobuf_FileOptions_size},
    {"clear_java_package", lua_protobuf_google_protobuf_FileOptions_clear_java_package},
    {"get_java_package", lua_protobuf_google_protobuf_FileOptions_get_java_package},
    {"set_java_package", lua_protobuf_google_protobuf_FileOptions_set_java_package},
    {"has_java_package", lua_protobuf_google_protobuf_FileOptions_has_java_package},
    {"clear_java_outer_classname", lua_protobuf_google_protobuf_FileOptions_clear_java_outer_classname},
    {"get_java_outer_classname", lua_protobuf_google_protobuf_FileOptions_get_java_outer_classname},
    {"set_java_outer_classname", lua_protobuf_google_protobuf_FileOptions_set_java_outer_classname},
    {"has_java_outer_classname", lua_protobuf_google_protobuf_FileOptions_has_java_outer_classname},
    {"clear_java_multiple_files", lua_protobuf_google_protobuf_FileOptions_clear_java_multiple_files},
    {"get_java_multiple_files", lua_protobuf_google_protobuf_FileOptions_get_java_multiple_files},
    {"set_java_multiple_files", lua_protobuf_google_protobuf_FileOptions_set_java_multiple_files},
    {"has_java_multiple_files", lua_protobuf_google_protobuf_FileOptions_has_java_multiple_files},
    {"clear_java_generate_equals_and_hash", lua_protobuf_google_protobuf_FileOptions_clear_java_generate_equals_and_hash},
    {"get_java_generate_equals_and_hash", lua_protobuf_google_protobuf_FileOptions_get_java_generate_equals_and_hash},
    {"set_java_generate_equals_and_hash", lua_protobuf_google_protobuf_FileOptions_set_java_generate_equals_and_hash},
    {"has_java_generate_equals_and_hash", lua_protobuf_google_protobuf_FileOptions_has_java_generate_equals_and_hash},
    {"clear_optimize_for", lua_protobuf_google_protobuf_FileOptions_clear_optimize_for},
    {"get_optimize_for", lua_protobuf_google_protobuf_FileOptions_get_optimize_for},
    {"set_optimize_for", lua_protobuf_google_protobuf_FileOptions_set_optimize_for},
    {"has_optimize_for", lua_protobuf_google_protobuf_FileOptions_has_optimize_for},
    {"clear_go_package", lua_protobuf_google_protobuf_FileOptions_clear_go_package},
    {"get_go_package", lua_protobuf_google_protobuf_FileOptions_get_go_package},
    {"set_go_package", lua_protobuf_google_protobuf_FileOptions_set_go_package},
    {"has_go_package", lua_protobuf_google_protobuf_FileOptions_has_go_package},
    {"clear_cc_generic_services", lua_protobuf_google_protobuf_FileOptions_clear_cc_generic_services},
    {"get_cc_generic_services", lua_protobuf_google_protobuf_FileOptions_get_cc_generic_services},
    {"set_cc_generic_services", lua_protobuf_google_protobuf_FileOptions_set_cc_generic_services},
    {"has_cc_generic_services", lua_protobuf_google_protobuf_FileOptions_has_cc_generic_services},
    {"clear_java_generic_services", lua_protobuf_google_protobuf_FileOptions_clear_java_generic_services},
    {"get_java_generic_services", lua_protobuf_google_protobuf_FileOptions_get_java_generic_services},
    {"set_java_generic_services", lua_protobuf_google_protobuf_FileOptions_set_java_generic_services},
    {"has_java_generic_services", lua_protobuf_google_protobuf_FileOptions_has_java_generic_services},
    {"clear_py_generic_services", lua_protobuf_google_protobuf_FileOptions_clear_py_generic_services},
    {"get_py_generic_services", lua_protobuf_google_protobuf_FileOptions_get_py_generic_services},
    {"set_py_generic_services", lua_protobuf_google_protobuf_FileOptions_set_py_generic_services},
    {"has_py_generic_services", lua_protobuf_google_protobuf_FileOptions_has_py_generic_services},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_FileOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_FileOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_FileOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_FileOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_FileOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_FileOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.FileOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, FileOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.FileOptions", FileOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_FileOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::FileOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_FileOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::FileOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FileOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* src = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::FileOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::FileOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_FileOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_FileOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_FileOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_FileOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_FileOptions_clear_java_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_java_package();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_java_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    const std::string& s = m->java_package();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_java_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_java_package(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_java_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_java_package());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_java_outer_classname(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_java_outer_classname();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_java_outer_classname(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    const std::string& s = m->java_outer_classname();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_java_outer_classname(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_java_outer_classname(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_java_outer_classname(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_java_outer_classname());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_java_multiple_files(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_java_multiple_files();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_java_multiple_files(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->java_multiple_files());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_java_multiple_files(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_java_multiple_files(b);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_java_multiple_files(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_java_multiple_files());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_java_generate_equals_and_hash(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_java_generate_equals_and_hash();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_java_generate_equals_and_hash(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->java_generate_equals_and_hash());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_java_generate_equals_and_hash(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_java_generate_equals_and_hash(b);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_java_generate_equals_and_hash(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_java_generate_equals_and_hash());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_optimize_for(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_optimize_for();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_optimize_for(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushnumber(L, m->optimize_for());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_optimize_for(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Integer i = lua_tointeger(L, 2);
    m->set_optimize_for((::google::protobuf::FileOptions::OptimizeMode)i);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_optimize_for(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_optimize_for());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_go_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_go_package();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_go_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    const std::string& s = m->go_package();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_go_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_go_package(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_go_package(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_go_package());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_cc_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_cc_generic_services();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_cc_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->cc_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_cc_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_cc_generic_services(b);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_cc_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_cc_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_java_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_java_generic_services();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_java_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->java_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_java_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_java_generic_services(b);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_java_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_java_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_py_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_py_generic_services();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_py_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->py_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_py_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_py_generic_services(b);
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_has_py_generic_services(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    lua_pushboolean(L, m->has_py_generic_services());
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_FileOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FileOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FileOptions");
    ::google::protobuf::FileOptions* m = boost::polymorphic_downcast<::google::protobuf::FileOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg MessageOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_MessageOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg MessageOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_MessageOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_MessageOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_MessageOptions_data},
    {"assign", lua_protobuf_google_protobuf_MessageOptions_assign},
    {"option", lua_protobuf_google_protobuf_MessageOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_MessageOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_MessageOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_MessageOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_MessageOptions_gc},
    {"size", lua_protobuf_google_protobuf_MessageOptions_size},
    {"clear_message_set_wire_format", lua_protobuf_google_protobuf_MessageOptions_clear_message_set_wire_format},
    {"get_message_set_wire_format", lua_protobuf_google_protobuf_MessageOptions_get_message_set_wire_format},
    {"set_message_set_wire_format", lua_protobuf_google_protobuf_MessageOptions_set_message_set_wire_format},
    {"has_message_set_wire_format", lua_protobuf_google_protobuf_MessageOptions_has_message_set_wire_format},
    {"clear_no_standard_descriptor_accessor", lua_protobuf_google_protobuf_MessageOptions_clear_no_standard_descriptor_accessor},
    {"get_no_standard_descriptor_accessor", lua_protobuf_google_protobuf_MessageOptions_get_no_standard_descriptor_accessor},
    {"set_no_standard_descriptor_accessor", lua_protobuf_google_protobuf_MessageOptions_set_no_standard_descriptor_accessor},
    {"has_no_standard_descriptor_accessor", lua_protobuf_google_protobuf_MessageOptions_has_no_standard_descriptor_accessor},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_MessageOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_MessageOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_MessageOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_MessageOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_MessageOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_MessageOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.MessageOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, MessageOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.MessageOptions", MessageOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_MessageOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MessageOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_MessageOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::MessageOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MessageOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* src = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::MessageOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::MessageOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_MessageOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_MessageOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_MessageOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_MessageOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_MessageOptions_clear_message_set_wire_format(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    m->clear_message_set_wire_format();
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_get_message_set_wire_format(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushboolean(L, m->message_set_wire_format());
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_set_message_set_wire_format(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_message_set_wire_format(b);
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_has_message_set_wire_format(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushboolean(L, m->has_message_set_wire_format());
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_clear_no_standard_descriptor_accessor(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    m->clear_no_standard_descriptor_accessor();
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_get_no_standard_descriptor_accessor(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushboolean(L, m->no_standard_descriptor_accessor());
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_set_no_standard_descriptor_accessor(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_no_standard_descriptor_accessor(b);
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_has_no_standard_descriptor_accessor(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    lua_pushboolean(L, m->has_no_standard_descriptor_accessor());
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_MessageOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_MessageOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MessageOptions");
    ::google::protobuf::MessageOptions* m = boost::polymorphic_downcast<::google::protobuf::MessageOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg FieldOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_FieldOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg FieldOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_FieldOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_FieldOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_FieldOptions_data},
    {"assign", lua_protobuf_google_protobuf_FieldOptions_assign},
    {"option", lua_protobuf_google_protobuf_FieldOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_FieldOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_FieldOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_FieldOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_FieldOptions_gc},
    {"size", lua_protobuf_google_protobuf_FieldOptions_size},
    {"clear_ctype", lua_protobuf_google_protobuf_FieldOptions_clear_ctype},
    {"get_ctype", lua_protobuf_google_protobuf_FieldOptions_get_ctype},
    {"set_ctype", lua_protobuf_google_protobuf_FieldOptions_set_ctype},
    {"has_ctype", lua_protobuf_google_protobuf_FieldOptions_has_ctype},
    {"clear_packed", lua_protobuf_google_protobuf_FieldOptions_clear_packed},
    {"get_packed", lua_protobuf_google_protobuf_FieldOptions_get_packed},
    {"set_packed", lua_protobuf_google_protobuf_FieldOptions_set_packed},
    {"has_packed", lua_protobuf_google_protobuf_FieldOptions_has_packed},
    {"clear_lazy", lua_protobuf_google_protobuf_FieldOptions_clear_lazy},
    {"get_lazy", lua_protobuf_google_protobuf_FieldOptions_get_lazy},
    {"set_lazy", lua_protobuf_google_protobuf_FieldOptions_set_lazy},
    {"has_lazy", lua_protobuf_google_protobuf_FieldOptions_has_lazy},
    {"clear_deprecated", lua_protobuf_google_protobuf_FieldOptions_clear_deprecated},
    {"get_deprecated", lua_protobuf_google_protobuf_FieldOptions_get_deprecated},
    {"set_deprecated", lua_protobuf_google_protobuf_FieldOptions_set_deprecated},
    {"has_deprecated", lua_protobuf_google_protobuf_FieldOptions_has_deprecated},
    {"clear_experimental_map_key", lua_protobuf_google_protobuf_FieldOptions_clear_experimental_map_key},
    {"get_experimental_map_key", lua_protobuf_google_protobuf_FieldOptions_get_experimental_map_key},
    {"set_experimental_map_key", lua_protobuf_google_protobuf_FieldOptions_set_experimental_map_key},
    {"has_experimental_map_key", lua_protobuf_google_protobuf_FieldOptions_has_experimental_map_key},
    {"clear_weak", lua_protobuf_google_protobuf_FieldOptions_clear_weak},
    {"get_weak", lua_protobuf_google_protobuf_FieldOptions_get_weak},
    {"set_weak", lua_protobuf_google_protobuf_FieldOptions_set_weak},
    {"has_weak", lua_protobuf_google_protobuf_FieldOptions_has_weak},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_FieldOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_FieldOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_FieldOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_FieldOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_FieldOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_FieldOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.FieldOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, FieldOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.FieldOptions", FieldOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_FieldOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FieldOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_FieldOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::FieldOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.FieldOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* src = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::FieldOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::FieldOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_FieldOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_FieldOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_FieldOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_FieldOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_FieldOptions_clear_ctype(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_ctype();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_ctype(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushnumber(L, m->ctype());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_ctype(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Integer i = lua_tointeger(L, 2);
    m->set_ctype((::google::protobuf::FieldOptions::CType)i);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_ctype(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_ctype());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_packed(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_packed();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_packed(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->packed());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_packed(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_packed(b);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_packed(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_packed());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_lazy(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_lazy();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_lazy(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->lazy());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_lazy(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_lazy(b);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_lazy(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_lazy());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_deprecated(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_deprecated();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_deprecated(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->deprecated());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_deprecated(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_deprecated(b);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_deprecated(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_deprecated());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_experimental_map_key(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_experimental_map_key();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_experimental_map_key(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    const std::string& s = m->experimental_map_key();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_experimental_map_key(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_experimental_map_key(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_experimental_map_key(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_experimental_map_key());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_weak(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_weak();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_weak(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->weak());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_weak(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_weak(b);
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_has_weak(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    lua_pushboolean(L, m->has_weak());
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_FieldOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_FieldOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.FieldOptions");
    ::google::protobuf::FieldOptions* m = boost::polymorphic_downcast<::google::protobuf::FieldOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg EnumOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_EnumOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg EnumOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_EnumOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_EnumOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_EnumOptions_data},
    {"assign", lua_protobuf_google_protobuf_EnumOptions_assign},
    {"option", lua_protobuf_google_protobuf_EnumOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_EnumOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_EnumOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_EnumOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_EnumOptions_gc},
    {"size", lua_protobuf_google_protobuf_EnumOptions_size},
    {"clear_allow_alias", lua_protobuf_google_protobuf_EnumOptions_clear_allow_alias},
    {"get_allow_alias", lua_protobuf_google_protobuf_EnumOptions_get_allow_alias},
    {"set_allow_alias", lua_protobuf_google_protobuf_EnumOptions_set_allow_alias},
    {"has_allow_alias", lua_protobuf_google_protobuf_EnumOptions_has_allow_alias},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_EnumOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_EnumOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_EnumOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_EnumOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_EnumOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_EnumOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.EnumOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, EnumOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.EnumOptions", EnumOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_EnumOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_EnumOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::EnumOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* src = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::EnumOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::EnumOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_EnumOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_EnumOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_EnumOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_EnumOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_EnumOptions_clear_allow_alias(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    m->clear_allow_alias();
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_get_allow_alias(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    lua_pushboolean(L, m->allow_alias());
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_set_allow_alias(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TBOOLEAN);
    bool b = lua_toboolean(L, 2) != 0;
    m->set_allow_alias(b);
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_has_allow_alias(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    lua_pushboolean(L, m->has_allow_alias());
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_EnumOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumOptions");
    ::google::protobuf::EnumOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg EnumValueOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_EnumValueOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg EnumValueOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_EnumValueOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_EnumValueOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_EnumValueOptions_data},
    {"assign", lua_protobuf_google_protobuf_EnumValueOptions_assign},
    {"option", lua_protobuf_google_protobuf_EnumValueOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_EnumValueOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_EnumValueOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_EnumValueOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_EnumValueOptions_gc},
    {"size", lua_protobuf_google_protobuf_EnumValueOptions_size},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_EnumValueOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_EnumValueOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_EnumValueOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_EnumValueOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_EnumValueOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_EnumValueOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.EnumValueOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, EnumValueOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.EnumValueOptions", EnumValueOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_EnumValueOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumValueOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_EnumValueOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::EnumValueOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.EnumValueOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* src = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::EnumValueOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::EnumValueOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_EnumValueOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_EnumValueOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_EnumValueOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_EnumValueOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_EnumValueOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.EnumValueOptions");
    ::google::protobuf::EnumValueOptions* m = boost::polymorphic_downcast<::google::protobuf::EnumValueOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg ServiceOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_ServiceOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg ServiceOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_ServiceOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_ServiceOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_ServiceOptions_data},
    {"assign", lua_protobuf_google_protobuf_ServiceOptions_assign},
    {"option", lua_protobuf_google_protobuf_ServiceOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_ServiceOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_ServiceOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_ServiceOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_ServiceOptions_gc},
    {"size", lua_protobuf_google_protobuf_ServiceOptions_size},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_ServiceOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_ServiceOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_ServiceOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_ServiceOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_ServiceOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_ServiceOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.ServiceOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, ServiceOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.ServiceOptions", ServiceOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_ServiceOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.ServiceOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_ServiceOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::ServiceOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.ServiceOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* src = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_ServiceOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::ServiceOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::ServiceOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_ServiceOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_ServiceOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_ServiceOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_ServiceOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_ServiceOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_ServiceOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_ServiceOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_ServiceOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_ServiceOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.ServiceOptions");
    ::google::protobuf::ServiceOptions* m = boost::polymorphic_downcast<::google::protobuf::ServiceOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg MethodOptions_functions [] = {
    {"new", lua_protobuf_google_protobuf_MethodOptions_new},
    {NULL, NULL}
};

static const struct luaL_Reg MethodOptions_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_MethodOptions_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_MethodOptions_parsefromstring},
    {"data", lua_protobuf_google_protobuf_MethodOptions_data},
    {"assign", lua_protobuf_google_protobuf_MethodOptions_assign},
    {"option", lua_protobuf_google_protobuf_MethodOptions_getSyncOption},
    {"clear_option", lua_protobuf_google_protobuf_MethodOptions_clearSyncOption},
    {"get_gefaultKey", lua_protobuf_google_protobuf_MethodOptions_defaultKey},
    {"clear", lua_protobuf_google_protobuf_MethodOptions_clear},
    {"__gc", lua_protobuf_google_protobuf_MethodOptions_gc},
    {"size", lua_protobuf_google_protobuf_MethodOptions_size},
    {"clear_uninterpreted_option", lua_protobuf_google_protobuf_MethodOptions_clear_uninterpreted_option},
    {"get_uninterpreted_option", lua_protobuf_google_protobuf_MethodOptions_get_uninterpreted_option},
    {"set_uninterpreted_option", lua_protobuf_google_protobuf_MethodOptions_set_uninterpreted_option},
    {"rawget_uninterpreted_option", lua_protobuf_google_protobuf_MethodOptions_rawget_uninterpreted_option},
    {"size_uninterpreted_option", lua_protobuf_google_protobuf_MethodOptions_size_uninterpreted_option},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_MethodOptions_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.MethodOptions");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, MethodOptions_methods);
    luaL_register(L, "proto-buf.google.protobuf.MethodOptions", MethodOptions_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_MethodOptions_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MethodOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_MethodOptions_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::MethodOptions();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.MethodOptions");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* src = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_MethodOptions_getSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    ::pb::SyncOption* option = m->MutableExtension(::google::protobuf::MethodOptions::syncOption);
    lua_protobuf_pb_SyncOption_(L, option, false);
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_clearSyncOption(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    m->ClearExtension(::google::protobuf::MethodOptions::syncOption);
    return 0;
}

int lua_protobuf_google_protobuf_MethodOptions_defaultKey(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    const google::protobuf::Descriptor* descriptor = m->GetDescriptor();
    const google::protobuf::FieldDescriptor* field = descriptor->FindFieldByName(luaL_checkstring(L, 2));
    if (field != NULL)
    {
        std::string value = field->options().GetExtension(pb::my_field_option);
        lua_pushlstring(L, value.c_str(), value.size());
        return 1;
    }
    return 0;
}

int lua_protobuf_google_protobuf_MethodOptions_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_MethodOptions_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_MethodOptions_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_MethodOptions_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_MethodOptions_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_MethodOptions_clear_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    m->clear_uninterpreted_option();
    return 0;
}

int lua_protobuf_google_protobuf_MethodOptions_get_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    size_t index = m->uninterpreted_option_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption>* msgVec = m->mutable_uninterpreted_option();
        ::google::protobuf::UninterpretedOption* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_set_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption* msg = m->add_uninterpreted_option();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_rawget_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->uninterpreted_option_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption* msg = m->mutable_uninterpreted_option(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_MethodOptions_size_uninterpreted_option(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.MethodOptions");
    ::google::protobuf::MethodOptions* m = boost::polymorphic_downcast<::google::protobuf::MethodOptions*>(mud->msg);
    int size = m->uninterpreted_option_size();
    lua_pushnumber(L, size);
    return 1;
}

static const struct luaL_Reg UninterpretedOption_functions [] = {
    {"new", lua_protobuf_google_protobuf_UninterpretedOption_new},
    {NULL, NULL}
};

static const struct luaL_Reg UninterpretedOption_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_UninterpretedOption_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_UninterpretedOption_parsefromstring},
    {"data", lua_protobuf_google_protobuf_UninterpretedOption_data},
    {"assign", lua_protobuf_google_protobuf_UninterpretedOption_assign},
    {"clear", lua_protobuf_google_protobuf_UninterpretedOption_clear},
    {"__gc", lua_protobuf_google_protobuf_UninterpretedOption_gc},
    {"size", lua_protobuf_google_protobuf_UninterpretedOption_size},
    {"clear_name", lua_protobuf_google_protobuf_UninterpretedOption_clear_name},
    {"get_name", lua_protobuf_google_protobuf_UninterpretedOption_get_name},
    {"set_name", lua_protobuf_google_protobuf_UninterpretedOption_set_name},
    {"rawget_name", lua_protobuf_google_protobuf_UninterpretedOption_rawget_name},
    {"size_name", lua_protobuf_google_protobuf_UninterpretedOption_size_name},
    {"clear_identifier_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_identifier_value},
    {"get_identifier_value", lua_protobuf_google_protobuf_UninterpretedOption_get_identifier_value},
    {"set_identifier_value", lua_protobuf_google_protobuf_UninterpretedOption_set_identifier_value},
    {"has_identifier_value", lua_protobuf_google_protobuf_UninterpretedOption_has_identifier_value},
    {"clear_positive_int_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_positive_int_value},
    {"get_positive_int_value", lua_protobuf_google_protobuf_UninterpretedOption_get_positive_int_value},
    {"set_positive_int_value", lua_protobuf_google_protobuf_UninterpretedOption_set_positive_int_value},
    {"has_positive_int_value", lua_protobuf_google_protobuf_UninterpretedOption_has_positive_int_value},
    {"clear_negative_int_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_negative_int_value},
    {"get_negative_int_value", lua_protobuf_google_protobuf_UninterpretedOption_get_negative_int_value},
    {"set_negative_int_value", lua_protobuf_google_protobuf_UninterpretedOption_set_negative_int_value},
    {"has_negative_int_value", lua_protobuf_google_protobuf_UninterpretedOption_has_negative_int_value},
    {"clear_double_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_double_value},
    {"get_double_value", lua_protobuf_google_protobuf_UninterpretedOption_get_double_value},
    {"set_double_value", lua_protobuf_google_protobuf_UninterpretedOption_set_double_value},
    {"has_double_value", lua_protobuf_google_protobuf_UninterpretedOption_has_double_value},
    {"clear_string_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_string_value},
    {"get_string_value", lua_protobuf_google_protobuf_UninterpretedOption_get_string_value},
    {"set_string_value", lua_protobuf_google_protobuf_UninterpretedOption_set_string_value},
    {"has_string_value", lua_protobuf_google_protobuf_UninterpretedOption_has_string_value},
    {"clear_aggregate_value", lua_protobuf_google_protobuf_UninterpretedOption_clear_aggregate_value},
    {"get_aggregate_value", lua_protobuf_google_protobuf_UninterpretedOption_get_aggregate_value},
    {"set_aggregate_value", lua_protobuf_google_protobuf_UninterpretedOption_set_aggregate_value},
    {"has_aggregate_value", lua_protobuf_google_protobuf_UninterpretedOption_has_aggregate_value},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_UninterpretedOption_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.UninterpretedOption");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, UninterpretedOption_methods);
    luaL_register(L, "proto-buf.google.protobuf.UninterpretedOption", UninterpretedOption_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_UninterpretedOption_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.UninterpretedOption");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_UninterpretedOption_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::UninterpretedOption();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.UninterpretedOption");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* src = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_UninterpretedOption_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_UninterpretedOption_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_UninterpretedOption_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_UninterpretedOption_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_UninterpretedOption_clear_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_name();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    size_t index = m->name_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::UninterpretedOption::NamePart>* msgVec = m->mutable_name();
        ::google::protobuf::UninterpretedOption::NamePart* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_UninterpretedOption_NamePart_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::UninterpretedOption::NamePart* msg = m->add_name();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_UninterpretedOption_NamePart_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_rawget_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->name_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::UninterpretedOption::NamePart* msg = m->mutable_name(index-1);
    lua_protobuf_google_protobuf_UninterpretedOption_NamePart_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_size_name(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    int size = m->name_size();
    lua_pushnumber(L, size);
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_identifier_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_identifier_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_identifier_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    const std::string& s = m->identifier_value();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_identifier_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_identifier_value(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_identifier_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_identifier_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_positive_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_positive_int_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_positive_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushnumber(L, m->positive_int_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_positive_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number i = luaL_checknumber(L, 2);
    m->set_positive_int_value(i);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_positive_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_positive_int_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_negative_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_negative_int_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_negative_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushnumber(L, m->negative_int_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_negative_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number i = luaL_checknumber(L, 2);
    m->set_negative_int_value(i);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_negative_int_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_negative_int_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_double_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_double_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_double_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushnumber(L, m->double_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_double_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    m->set_double_value(n);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_double_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_double_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_string_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_string_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_string_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    const std::string& s = m->string_value();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_string_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_string_value(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_string_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_string_value());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_clear_aggregate_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    m->clear_aggregate_value();
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_get_aggregate_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    const std::string& s = m->aggregate_value();
    lua_pushlstring(L, s.c_str(), s.length());
    return 1;
}

int lua_protobuf_google_protobuf_UninterpretedOption_set_aggregate_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    luaL_checktype(L, 2, LUA_TSTRING);
    size_t len;
    const char *s = lua_tolstring(L, 2, &len);
    if (s == NULL) {
        luaL_error(L, "could not obtain string on stack. weird");
    }
    m->set_aggregate_value(s, len);
    return 0;
}

int lua_protobuf_google_protobuf_UninterpretedOption_has_aggregate_value(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.UninterpretedOption");
    ::google::protobuf::UninterpretedOption* m = boost::polymorphic_downcast<::google::protobuf::UninterpretedOption*>(mud->msg);
    lua_pushboolean(L, m->has_aggregate_value());
    return 1;
}

static const struct luaL_Reg SourceCodeInfo_functions [] = {
    {"new", lua_protobuf_google_protobuf_SourceCodeInfo_new},
    {NULL, NULL}
};

static const struct luaL_Reg SourceCodeInfo_methods [] = {
    {"serialized", lua_protobuf_google_protobuf_SourceCodeInfo_serialized},
    {"parsefromstring", lua_protobuf_google_protobuf_SourceCodeInfo_parsefromstring},
    {"data", lua_protobuf_google_protobuf_SourceCodeInfo_data},
    {"assign", lua_protobuf_google_protobuf_SourceCodeInfo_assign},
    {"clear", lua_protobuf_google_protobuf_SourceCodeInfo_clear},
    {"__gc", lua_protobuf_google_protobuf_SourceCodeInfo_gc},
    {"size", lua_protobuf_google_protobuf_SourceCodeInfo_size},
    {"clear_location", lua_protobuf_google_protobuf_SourceCodeInfo_clear_location},
    {"get_location", lua_protobuf_google_protobuf_SourceCodeInfo_get_location},
    {"set_location", lua_protobuf_google_protobuf_SourceCodeInfo_set_location},
    {"rawget_location", lua_protobuf_google_protobuf_SourceCodeInfo_rawget_location},
    {"size_location", lua_protobuf_google_protobuf_SourceCodeInfo_size_location},
    {NULL, NULL},
};

int lua_protobuf_google_protobuf_SourceCodeInfo_open(lua_State *L)
{
    luaL_newmetatable(L, "proto-buf.google.protobuf.SourceCodeInfo");
    lua_pushvalue(L, -1);
    lua_setfield(L, -2, "__index");
    luaL_register(L, NULL, SourceCodeInfo_methods);
    luaL_register(L, "proto-buf.google.protobuf.SourceCodeInfo", SourceCodeInfo_functions);
    lua_pop(L, 2);
    return 1;
}


void lua_protobuf_google_protobuf_SourceCodeInfo_(lua_State *L, ::google::protobuf::Message* msg, bool needDel /*= true*/ )
{
    boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(msg);
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ud->msg = msg;
    ud->needDel = needDel;
    luaL_getmetatable(L, "proto-buf.google.protobuf.SourceCodeInfo");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
}
int lua_protobuf_google_protobuf_SourceCodeInfo_new(lua_State *L)
{
    msg_udata *ud = (msg_udata *)lua_newuserdata(L, sizeof(msg_udata));
    ::google::protobuf::Message* msg = new ::google::protobuf::SourceCodeInfo();
    ud->msg = msg;
    ud->needDel = true;
    luaL_getmetatable(L, "proto-buf.google.protobuf.SourceCodeInfo");
    lua_setmetatable(L, -2);
    udataNum++;
    u_datas.insert(msg);
    return 1;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_data(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    lua_pushlightuserdata(L, m);
    return 1;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_assign(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    msg_udata *srcud = (msg_udata *)luaL_checkudata(L, 2, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* src = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(srcud->msg);
    *m = *src;
    return 0;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_parsefromstring(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    int type = lua_type(L, 2);
    if (type == LUA_TSTRING) { 
        if (!m->ParseFromArray(luaL_checkstring(L, 2), luaL_checkinteger(L, 3))) {
            return luaL_error(L, "error parsefromstring message case 2");
        }
    }
    else if (type == LUA_TLIGHTUSERDATA) {
        ::google::protobuf::Message* gpm = static_cast<::google::protobuf::Message*>(lua_touserdata(L, 2));
        m->Clear();
        if (gpm != NULL)
        {
            m->CheckTypeAndMergeFrom(*gpm);
        }
    }
    else
    {
        return luaL_error(L, "error parsefromstring wrong type.");
    }
    return 0;
}
int lua_protobuf_google_protobuf_SourceCodeInfo_gc(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    if (mud->needDel)
    {
        delete mud->msg;
    }
    udataNum--;
    u_datas.erase(mud->msg);
    return 0;
}
int lua_protobuf_google_protobuf_SourceCodeInfo_clear(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    m->Clear();
    return 0;
}
int lua_protobuf_google_protobuf_SourceCodeInfo_serialized(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    int size = m->ByteSize();
    ::google::protobuf::uint8* data = (::google::protobuf::uint8*)malloc(sizeof(::google::protobuf::uint8)*size);
    m->SerializeWithCachedSizesToArray(data);
    lua_pushlstring(L, (const char*)data, size);
    free(data);
    return 1;
}
int lua_protobuf_google_protobuf_SourceCodeInfo_size(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    lua_pushnumber(L, m->ByteSize());
    return 1;
}
int lua_protobuf_google_protobuf_SourceCodeInfo_clear_location(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    m->clear_location();
    return 0;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_get_location(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    size_t index = m->location_size();
    lua_newtable(L);
    while(index > 0) {
        lua_pushnumber(L, index); //key
        ::google::protobuf::RepeatedPtrField<::google::protobuf::SourceCodeInfo::Location>* msgVec = m->mutable_location();
        ::google::protobuf::SourceCodeInfo::Location* msg = msgVec->ReleaseLast();
        lua_protobuf_google_protobuf_SourceCodeInfo_Location_(L, msg); //value
        lua_rawset(L, -3);
        index--;
    }
    return 1;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_set_location(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    luaL_checktype(L, 2, LUA_TNUMBER);
    lua_Number n = lua_tonumber(L, 2);
    lua_newtable(L);
    for(size_t i=0; i<n; i++) {
        ::google::protobuf::SourceCodeInfo::Location* msg = m->add_location();
        lua_pushnumber(L, i+1); //key
        lua_protobuf_google_protobuf_SourceCodeInfo_Location_(L, msg, false);
        lua_rawset(L, -3);
    }
    return 1;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_rawget_location(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    if (lua_gettop(L) != 2) {
        return luaL_error(L, "missing required numeric argument");
    }
    luaL_checktype(L, 2, LUA_TNUMBER);
    int size = m->location_size();
    lua_Integer index = luaL_checkinteger(L, 2);
    if (index < 1 || index > size) {
        return luaL_error(L, "index must be between 1 and current size: %d", size);
    }
    ::google::protobuf::SourceCodeInfo::Location* msg = m->mutable_location(index-1);
    lua_protobuf_google_protobuf_SourceCodeInfo_Location_(L, msg, false);
    return 1;
}

int lua_protobuf_google_protobuf_SourceCodeInfo_size_location(lua_State *L)
{
    msg_udata *mud = (msg_udata *)luaL_checkudata(L, 1, "proto-buf.google.protobuf.SourceCodeInfo");
    ::google::protobuf::SourceCodeInfo* m = boost::polymorphic_downcast<::google::protobuf::SourceCodeInfo*>(mud->msg);
    int size = m->location_size();
    lua_pushnumber(L, size);
    return 1;
}
